<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Quick-youtube-test : ">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Quick-youtube-test</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<style>
			.video-overlay {
				display: none;
				background: rgba(0,0,0,0.8);
				width: 100%;
				height: 100%;
				position: fixed;
				top: 0;
				left: 0;
			}
			.video-overlay.visible {
				display: block;	
			}
			.video-wrapper {
				position: relative;
				padding-bottom: 56.25%; /* 16:9 */
				padding-top: 25px;
				height: 0;
			}
			.video-wrapper iframe {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}

		</style>
  </head>

  <body>


		<div class="video-overlay">
			<div class="video-wrapper">
				<div id="player"></div>
			</div>
		</div>
					<a href="#" class="show-tiny play-video"><img src="img/video_thumbnail.png" alt="Play Video"></a>
		<script>

			//video stuff
			var tag = document.createElement('script');
			tag.src = "https://www.youtube.com/iframe_api";
			var firstScriptTag = document.getElementsByTagName('script')[0];
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

			var player;
			function onYouTubeIframeAPIReady() {
				player = new YT.Player('player', {
					height: '349',
					width: '560',
					videoId: 'J9fvFCBVp6c',
					events: {
						'onReady': onPlayerReady,
						'onStateChange': onPlayerStateChange	
					}	
				});	
			}

			function onPlayerReady(event) {
				//event.target.playVideo();	
			}

			var done = false;
			function onPlayerStateChange(event) {
				if (event.data == YT.PlayerState.PLAYING && !done) {
					setTimeout(stopVideo, 6000);
					done = true;	
				}	
			}
			function stopVideo() {
				player.stopVideo();	
			}

			function verticallyCenterVideo() {
				if ($(window).innerHeight() > $('.video-wrapper iframe').height()) {
					diff = ($(window).innerHeight() - $('.video-wrapper iframe').height()) / 2;
					$('.video-wrapper').css('margin-top', diff + 'px');
				} else {
					$('.video-wrapper').css('margin-top', 0);	
				}	
			}

			$(document).ready(function(){
				$('.play-video').on('click', function(){
					$('.video-overlay').addClass('visible');
					verticallyCenterVideo();
					player.playVideo();	
					var playerElement = $('#player');
					var requestFullScreen = playerElement.requestFullScreen || playerElement.mozRequestFullScreen || playerElement.webkitRequestFullScreen;
					if (requestFullScreen) {
						requestFullScreen.bind(playerElement)();
					}
				});	

				$('.video-overlay').on('click', function(){
					$('.video-overlay').removeClass('visible');	
					player.stopVideo();
				});

				$(window).resize(function(){
					verticallyCenterVideo();	
				});
			});

		</script>
  </body>
</html>
